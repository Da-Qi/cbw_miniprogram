<view class="container">
  <!-- 标题 -->
  <view class="form-item">
    <text>路线标题：</text>
    <input placeholder="请输入标题" bindinput="onTitleChange" value="{{route.title}}" />
  </view>

  <!-- 轮播图 -->
  <view class="form-item">
    <text>轮播图：</text>
    <swiper indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" duration="500" class="swiper">
      <block wx:for="{{route.carousel}}" wx:key="index">
        <swiper-item>
          <image src="{{item}}" mode="scaleToFill" class="swiper-image" />
        </swiper-item>
      </block>
    </swiper>
    <button bindtap="addCarouselImage">添加图片</button>
  </view>

  <!-- 描述详情图 -->
  <view class="form-item">
    <text>描述详情图：</text>
    <block wx:for="{{route.detailImages}}" wx:key="index">
      <image src="{{item}}" mode="scaleToFill" class="detail-image" />
    </block>
    <button bindtap="addDetailImage">添加详情图</button>
  </view>

  <!-- 是否可用 -->
  <view class="form-item">
    <text>是否可用：</text>
    <switch checked="{{route.active}}" bindchange="onActiveChange" />
  </view>

  <!-- 展示优先级 -->
  <view class="form-item">
    <text>展示优先级：(数字越大越靠前)</text>
    <input type="number" placeholder="数字越大越靠前" bindinput="onPriorityChange" value="{{route.priority}}" />
  </view>

  <view class="page-title">服务表</view>
  <!-- 服务列表 -->
  <view class="service-list">
    <!-- 服务项标题栏 -->
    <view class="service-header">
      <view class="service-name">服务名称</view>
      <view class="service-price">售价</view>
      <view class="service-action">操作</view>
    </view>
    
    <!-- 服务项列表 -->
    <block wx:for="{{services}}" wx:key="index">
      <view class="service-item" animation="{{item.animationData}}">
        <view class="service-name">
          <input 
            type="text" 
            value="{{item.service_name}}" 
            bindblur="onServiceNameChange" 
            data-index="{{index}}"
            placeholder="请输入服务名称"
          />
        </view>
        <view class="service-price">
          <input 
            type="number" 
            value="{{item.price}}" 
            bindblur="onServicePriceChange"
            data-index="{{index}}"
            placeholder="0.00"
          />
        </view>
        <view class="service-action">
          <button 
            class="delete-btn" 
            bindtap="deleteService" 
            data-index="{{index}}"
            wx:if="{{services.length > 1}}"
          >
            <icon type="clear" size="18" color="#ff4d4f" />
          </button>
        </view>
      </view>
    </block>
    
    <!-- 新增服务按钮 -->
    <button class="add-service-btn" bindtap="addService">
      <icon type="plus" size="20" color="#1677ff" />
      <text>新增服务</text>
    </button>
  </view>

  <!-- 保存按钮 -->
  <button bindtap="saveRoute">保存路线</button>
</view>
